<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta property="og:title" content="Dataset" />
  <script>
    window.onload = async function() {
      // Get query string (everything after ?)
      const param = window.location.search.substring(1).split("&")[0];

      if (!param) {
        window.location.href = "/default";
        return;
      }
      const ogTitleMeta = document.querySelector('meta[property="og:title"]');
      if (ogTitleMeta) {
        ogTitleMeta.setAttribute("content", param);
      }

      // Try to fetch the file with the given parameter
      try {
        const response = await fetch(param);
        if (response.ok) {
          // File exists → redirect directly to it
          window.location.href = param;
        } else {
          // File does not exist → redirect to /param
          window.location.href = "/datasets/" + param + "/";
        }
      } catch (e) {
        // Error fetching → fallback redirect
        window.location.href = "/datasets/" + param;
      }
    };
  </script>
</head>
</html>
